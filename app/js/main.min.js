"use strict";window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null});var slides=document.querySelectorAll("#product_slider .carousel-inner .item img");function setImagePosition(e){var t=-e.offsetX+"px",o=-e.offsetY+"px";this.style.transform="translate(".concat(t,", ").concat(o,") scale(2)")}function setImageImagePosition(e){this.style.transform="translate(0, 0) scale(1)"}slides.forEach((function(e){return e.addEventListener("mousemove",setImagePosition)})),slides.forEach((function(e){return e.addEventListener("mouseleave",setImageImagePosition)}));var thumbnails=document.querySelectorAll(".carousel-indicators [data-target='#product_slider']"),items=document.querySelectorAll(".carousel-inner .item");function setActiveImageItem(e){items.forEach((function(e){return e.classList.remove("active")})),items[e.target.dataset.slideTo].classList.add("active")}function showDefaultPopup(e,t){var o=e,n=document.querySelector('#mdl-popup [data-popup="'.concat(o,'"]'));if(n){var a=document.querySelector("body");n.querySelector(".popup-message").innerText=t,n.classList.add("visible"),n.closest("#mdl-popup").classList.add("visible"),a.classList.add("scroll-lock")}}function setSearchListeners(){var e=document.querySelector("[data-search=tab]"),t=document.querySelector("[data-search=input]"),o=document.querySelector("[data-search=close]"),n="mobile-view";t&&e&&t.addEventListener("click",(function(){e.classList.contains(n)||e.classList.add(n)})),o&&e&&t&&o.addEventListener("click",(function(){e.classList.remove(n),t.value=""}))}function setMenuListeners(){var e=document.querySelector("[data-navibar-header-toggle]"),t=document.querySelector("[data-navibar]"),o="is-open";t&&e&&(window.addEventListener("click",(function(){t.classList.remove(o),e.classList.remove(o)})),e.addEventListener("click",(function(n){n.stopPropagation(),t.classList.toggle(o),e.classList.toggle(o)}))),t&&t.addEventListener("click",(function(e){t.classList.contains(o)&&e.stopPropagation()}))}thumbnails.forEach((function(e){return e.addEventListener("mouseenter",setActiveImageItem)})),window.addEventListener("DOMContentLoaded",(function(){null!==document.querySelector(".owl-carousel")&&$(".owl-carousel").owlCarousel({loop:!0,margin:10,autoWidth:!0,navText:["&lsaquo;","&rsaquo;"],responsive:{0:{items:1,nav:!1},600:{items:3,nav:!1},1e3:{items:5,nav:!0,loop:!1}}});var e=document.querySelectorAll("[data-popup-toggle]"),t=document.getElementById("mdl-popup");function o(e){e.preventDefault();var t=this.dataset.popupId,o=document.querySelector('#mdl-popup [data-popup="'.concat(t,'"]'));if(o){var n=document.querySelector("body");o.classList.add("visible"),o.closest("#mdl-popup").classList.add("visible"),n.classList.add("scroll-lock")}}0!==e.length&&e.forEach((function(e){return e.addEventListener("click",o)})),t&&t.addEventListener("click",(function(e){if("mdl-popup"===e.target.id||e.target.classList.contains("mdl-btn-close")){var t=e.target.closest("#mdl-popup"),o=t.querySelector(".visible"),n=document.querySelector("body");o.classList.remove("visible"),t.classList.remove("visible"),n.classList.remove("scroll-lock")}}))})),setSearchListeners(),setMenuListeners(),$(".pagenav li").each((function(e,t){$(t).hasClass("current_page_item")&&$(t).parent().show().parent().addClass("open")}));var elements=document.querySelectorAll("#body-sidebar > div.sidebar-accordion > ul > li.pagenav > h4 > i ");0!==elements.length&&elements.forEach((function(e){e.addEventListener("click",(function(){$(this).closest("li").toggleClass("open"),$(this).parent().parent().find("ul").slideToggle(100)}))}));var navFilterBtns=document.querySelectorAll(".nav-filter-item .nav-filter-item-dropdown");function setActiveFilterBtn(e){navFilterBtns.forEach((function(t){t!==e.target&&(t.classList.remove("active"),t.nextElementSibling.classList.remove("active"))})),e.target.classList.toggle("active"),e.target.nextElementSibling.classList.toggle("active")}0!==navFilterBtns.length&&navFilterBtns.forEach((function(e){return e.addEventListener("click",setActiveFilterBtn)}));var navFilter=document.querySelector(".nav-filter");if(navFilter){var hideFilterDropdowns=function(e){if(!e.target.closest(".nav-filter-item")){var t=document.querySelectorAll(".nav-filter-dropdown-content");0!==t.length&&t.forEach((function(e){e.classList.remove("active"),e.previousElementSibling.classList.remove("active")}))}};navFilter.addEventListener("click",(function(e){console.log(e.target.classList);var t=document.querySelector("#nav-filter-sortBy .nav-filter-item-dropdown"),o=document.querySelector("#nav-filter-sortBy .nav-filter-dropdown-content"),n=document.querySelector("#mobile-nav-filter .nav-filter-item-dropdown"),a=document.querySelector("#mobile-nav-filter .nav-filter-dropdown-content");!e.target.classList.contains("sortByFilter")&&t&&o&&(t.classList.remove("active"),o.classList.remove("active")),!e.target.classList.contains("navFilter")&&n&&a&&(n.classList.remove("active"),a.classList.remove("active"))}));var body=document.querySelector("body");body.addEventListener("click",hideFilterDropdowns)}var dropDownMenus=[],dropDownMenuHide=function(e,t){e.classList.remove("dropdown-menu-open"),t.classList.remove("dropdown-toggle-open")},dropDownMenuShow=function(e,t){dropDownMenus.forEach((function(e){dropDownMenuHide(e.menu,e.toggle)})),t.classList.add("dropdown-toggle-open"),e.classList.add("dropdown-menu-open")},dropDownMenuToggle=function(e,t){!0===e.classList.contains("dropdown-menu-open")?dropDownMenuHide(e,t):dropDownMenuShow(e,t)},mq=window.matchMedia("(max-width: 767px)");function mqMatchesDropDownMenuHide(){mq.matches||dropDownMenus.forEach((function(e){dropDownMenuHide(e.menu,e.toggle)}))}mq.addEventListener?mq.addEventListener("change",mqMatchesDropDownMenuHide):mq.addListener(mqMatchesDropDownMenuHide);var dropDownItems=document.querySelectorAll(".dropdown-item");function setUpExternalAuth(e){$('form[name="external-auth"]').submit((function(t){return t.preventDefault(),$.oauthpopup({path:e,callback:function(){console.log("popup closed")}}),!1}))}mq.matches||dropDownItems.forEach((function(e){var t=e.querySelector(".dropdown-menu");t&&t.classList.remove("dropdown-menu-open")})),0!==dropDownItems.length&&(dropDownItems.forEach((function(e){var t=e.querySelector(".dropdown-toggle"),o=e.querySelector(".dropdown-menu");if(null!=t&&null!=o){dropDownMenus.push({toggle:t,menu:o}),t.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),dropDownMenuToggle(o,t)}));var n=!1;o.addEventListener("mouseenter",(function(e){mq.matches||(n=!0)})),o.addEventListener("mouseleave",(function(e){mq.matches||(n=!1,dropDownMenuHide(o,t))})),t.addEventListener("mouseenter",(function(e){mq.matches||n||dropDownMenuToggle(o,t)})),t.addEventListener("mouseleave",(function(e){setTimeout((function(){mq.matches||n||dropDownMenuHide(o,t)}),1)}))}})),$(".minus-bt").click((function(){var e=parseFloat($("#qnty_txt").val());(1==e||e<1)&&(e=2);var t=e-1;$("#qnty_txt").val(t)})),$(".plus-bt").click((function(){var e=parseFloat($("#qnty_txt").val())+1;$("#qnty_txt").val(e)}))),$("#modalLogin button[data-dismiss=modal]").click((function(){$("#errorDiv").empty()})),$("#modal_login_form").submit((function(e){e.preventDefault();var t={};t.ModalEmail=$("#ModalEmail").val(),t.ModalPassword=$("#ModalPassword").val(),$("#errorDiv").empty(),$("#modal_login_spinner").show(),$.ajax({type:"POST",url:"/My/Account/ModalLogin",contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(t),async:!0,beforeSend:function(e){},success:function(e){$("#modal_login_spinner").hide(),1==e.success?window.location.reload():($("#errorDiv").empty(),$.each(e.errors,(function(e,t){$("#errorDiv").append("<p>"+t+"</p>")})),$("#errorDiv").removeClass("displayNone"))},failure:function(e){}})})),$.oauthpopup=function(e){e.windowName=e.windowName||"ConnectWithOAuth",e.windowOptions=e.windowOptions||"type=display",e.callback=e.callback||function(){window.location.reload()};var t=this;console.log(e.path),t._oauthWindow=window.open(e.path,e.windowName,e.windowOptions),t._oauthInterval=window.setInterval((function(){t._oauthWindow&&!t._oauthWindow.closed||(window.clearInterval(t._oauthInterval),e.callback())}),1e3)},$((function(){$("#inputSearch").autocomplete({showNoSuggestionNotice:!0,serviceUrl:"/front/search/SuggestionsSearch",minChars:2,beforeRender:function(e){e.find(".autocomplete-suggestion .product").parent().wrapAll('<div class="suggestions__product"/>'),e.find(".autocomplete-suggestion .default").parent().wrapAll('<div class="suggestions__default"/>')},formatResult:function(e,t){if(e.data.showAll){var o=e.data.suggestionsLenght||1;return'<a class="showAll" href='+e.data.link+">"+e.value+"</a>"}if("product"===e.data.type){var n='<div class="productInfo">'+('<img class="productImg" src="'+e.data.img+'" />')+('<div class="productText">'+('<div class="productName">'+e.value+"</div>")+"</div>")+"</div>",a='<div class="productPrice">'+e.data.price+"</div>";return'<a class="productFull product" href='+e.data.link+">"+n+a+"</a>"}o=e.data.suggestionsLenght||1;return'<a class="default" href='+e.data.link+"><span> "+e.value+"</span> in category ("+o+") </a>"},onSelect:function(e,t){var o=$(".autocomplete-suggestion.autocomplete-selected").find("a").attr("href");window.location.href=o},onSearchStart:function(){$(".js-search-icon").hide(),$(".js-search-icon-loader").show()},onSearchComplete:function(){$(".js-search-icon-loader").hide(),$(".js-search-icon").show()}})}));
//# sourceMappingURL=main.min.js.map
